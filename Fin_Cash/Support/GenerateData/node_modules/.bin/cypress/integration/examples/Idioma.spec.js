it("Cria idiomas", function() {
    var nomes = [
        "Consulta de Movimentações Financeiras a Pagar",
        "Filtros",
        "Matriz Contábil",
        "Nº Documento",
        "Filial",
        "Conta Corrente",
        "Conta Despesa",
        "Fornecedor",
        "Série da Nota Fiscal",
        "Operação",
        "Data de Emissão",
        "Data de Competência",
        "Data de Vencimento",
        "Data da Baixa",
        "Limpar",
        "Pesquisar",
        "Voltar",
        "Desfazer",
        "Movimentações Financeiras",
        "Exportar para Excel",
        "Ir para a página",
        "Linhas",
        "Exibindo registros",
        "de",
        "Nº Movimentação",
        "Nº Nota Fiscal",
        "Parcela",
        "Valor Original",
        "Valor Baixado",
        "Valor Contrapartida",
        "Título a Pagar",
        "Aviso de Crédito",
        "Entrada de Conta Despesa",
        "Português",
        "Inglês",
        "Espanhol",
        "Francês",
        "Italiano",
        "Alemão",
        "Russo",
        "Chinês",
        "Híndi",
        "Japonês",
        "Coreano",
        "Árabe",
        "Aguarde",
        "Login",
        "Usuário",
        "Senha",
        "Entrar",
        "Dashboard",
        "Incluir Movimentação",        
        "Consultar Movimentação",        
        "Resultado",
        "Tema 1",
        "Tema 2",
        "Tema 3",
        "Tema 4",
        "Tema 5"
      ];      

      var objExport = 
      {
        ConsultaMovimentacoesFinanceirasPagar : '',
        Filtro : '',
        MatrizContabil : '',
        NDocumento : '',
        Filial : '',
        ContaCorrente : '',
        ContaDespesa : '',
        Fornecedor : '',
        SerieNotaFiscal : '',
        Operacao : '',
        DataEmissao : '',
        DataCompetencia : '',
        DataVencimento : '',
        DataBaixa : '',
        Limpar : '',
        Pesquisar : '',
        Voltar : '',
        Desfazer : '',
        MovimentacoesFinanceiras : '',
        ExportarparaExcel : '',
        IrparaPagina : '',
        Linhas : '',
        Exibindoregistros : '',
        de : '',
        NMovimentacao : '',
        NNotaFiscal : '',
        Parcela : '',
        ValorOriginal : '',
        ValorBaixado : '',
        ValorContrapartida : '',
        TituloPagar : '',
        AvisoCredito : '',
        EntradaContaDespesa : '',
        Portugues : '',
        Ingles : '',
        Espanhol : '',
        Frances : '',
        Italiano : '',
        Alemao : '',
        Russo : '',
        Chines : '',
        Hindi : '',
        Japones : '',
        Coreano : '',
        Arabe : '',
        Aguarde : '',
        Login: '',
        Usuario: '',
        Senha: '',
        Entrar: '',
        Dashboard: '',
        IncluirMovimentacao: '',        
        ConsultarMovimentacao: '',        
        Resultado: '',
        Tema1: '',
        Tema2: '',
        Tema3: '',
        Tema4: '',
        Tema5: ''
      };

      var idiomas = [        
        { id: 52, name: 'Ingles' },//0 Idiomaen-US
        // { id: 3, name: 'Alemao' },//1
        // { id: 5, name: 'Arabe' },//2
        // { id: 18, name: 'Chines' },//3
        // { id: 21, name: 'Coreano' },//4        
        // { id: 28, name: 'Espanhol' },//5 Idiomaes-ES
        // { id: 33, name: 'Frances' },//6
        // { id: 45, name: 'Hindi' },//7
        // { id: 56, name: 'Italiano' },//8
        // { id: 57, name: 'Japones' },//9
        // { id: 83, name: 'Russo' }//10
      ];

    cy.visit("https://www.google.com/search?q=tradutor&oq=tradutor&aqs=chrome..69i57j0l5.2071j0j7&sourceid=chrome&ie=UTF-8").then(
      () => {
        cy.wait(2000).then(() => {                        
            // var indexes = Object.keys(objExport);
            // var obj = {};
            // for(var a = 0; a < indexes.length; a++)
            // {
            //     obj[indexes[a]] = nomes[a];
            // }  
            // cy.writeFile('Idiomapt-PT.json', obj);
            // console.log(obj);

            // cy.get('#tw-swap').click().then(
            //     () =>{
                    cy.CreateArray(0, nomes.length, nomes, [], 0, idiomas.length, idiomas, objExport);
            //     }
            // );
        });
      }
    );
  });

  Cypress.Commands.add('CreateArray', (i, length, arr, arrFinal, j, length2, arr2, objExport) => {
    cy.wait(1000).then(
        () => {            
            if (i < length) {
                cy.get('#tw-source-text-ta').clear().then(
                    () => {
                        cy.get('#tw-source-text-ta').type(arr[i]).then(
                            () => {
                                cy.wait(1500).then(
                                    () => {
                                        cy.get('#tw-target-text-container').find('span').then(
                                            elem => {                                                
                                                var obj = {
                                                    key: arr[i],
                                                    name: elem[0].innerText
                                                };                                                
                                                arrFinal.push(obj);
                                            }
                                        );
                                        cy.CreateArray(i + 1, length, arr, arrFinal, j, length2, arr2, objExport);
                                    }
                                )
                            }
                        )
                    }
                )
            }
            else
            {                   
                // if(j < length2)             
                // {
                //     cy.get('#tw-tl').click().then(
                //         () =>{                    
                //             cy.get('.language-list-unfiltered-langs-tl_list').find('.tw-lliw > .language_list_item').eq(j).click().then(
                //                 e => {                             
                //                     cy.CreateArray(0, nomes.length, nomes, [], j + 1, idiomas.length, idiomas);
                //                 }            
                //             );
                //         }
                //     );
                // }
                // else
                // {

                var indexes = Object.keys(objExport);
                var obj = {};

                console.log("-----------------------------------------------");
                console.log(objExport);
                console.log(indexes);
                console.log("-----------------------------------------------");

                for(var a = 0; a < indexes.length; a++)
                {
                    obj[indexes[a]] = arrFinal[a].name;
                }  
                cy.writeFile('Idiomaen-US.json', obj);
                console.log(obj);
                console.log("Process ended");

                // }                
            }
        })
})